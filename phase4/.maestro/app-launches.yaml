# ABOUTME: Basic E2E smoke test - verifies app launches and home screen renders
# ABOUTME: Tests that "Co-Design Capture" title and "New Study" button are visible
appId: com.codesign.capture
---
- launchApp

# If on dev client launcher, tap the server URL to load the JS bundle
- runFlow:
    when:
      visible: "DEVELOPMENT SERVERS"
    commands:
      - tapOn: "http://.*:8081"
      - extendedWaitUntil:
          visible: "Continue"
          timeout: 30000

# Dismiss dev client welcome modal if it appears
- runFlow:
    when:
      visible: "Continue"
    commands:
      - tapOn: "Continue"

# Dismiss dev tools panel by swiping it down
- runFlow:
    when:
      visible: "Reload"
    commands:
      - swipe:
          start: "50%, 30%"
          end: "50%, 90%"

- extendedWaitUntil:
    visible: "New Study"
    timeout: 10000
- assertVisible: "Co-Design Capture"
- assertVisible: "Go Wish Protocol"
- assertVisible: "New Study"
